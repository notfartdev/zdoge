{
  "_format": "hh-sol-artifact-1",
  "contractName": "MixerPool",
  "sourceName": "src/MixerPool.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_verifier",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_hasher",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_denomination",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "CommitmentAlreadyExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidDenomination",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidFee",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidMerkleRoot",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidProof",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidRoot",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "MerkleTreeFull",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NullifierAlreadySpent",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TransferFailed",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "leafIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "Deposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "leaf",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "leafIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "newRoot",
          "type": "bytes32"
        }
      ],
      "name": "LeafInserted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "nullifierHash",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "relayer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "fee",
          "type": "uint256"
        }
      ],
      "name": "Withdrawal",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "FIELD_SIZE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ROOT_HISTORY_SIZE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "TREE_DEPTH",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "commitments",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "currentRootIndex",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "denomination",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "filledSubtrees",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLatestRoot",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getPoolInfo",
      "outputs": [
        {
          "internalType": "address",
          "name": "_token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_denomination",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_depositsCount",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "_root",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "hasher",
      "outputs": [
        {
          "internalType": "contract IHasher",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        }
      ],
      "name": "isDeposited",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "root",
          "type": "bytes32"
        }
      ],
      "name": "isKnownRoot",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "nullifierHash",
          "type": "bytes32"
        }
      ],
      "name": "isSpent",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextLeafIndex",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "nullifierHashes",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "roots",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "token",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "verifier",
      "outputs": [
        {
          "internalType": "contract IVerifierLegacy",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[8]",
          "name": "proof",
          "type": "uint256[8]"
        },
        {
          "internalType": "bytes32",
          "name": "root",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "nullifierHash",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "relayer",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "fee",
          "type": "uint256"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "zeros",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x610100806040523461019057608081610d8680380380916100208285610194565b83398101031261019057610033816101cb565b61003f602083016101cb565b606061004d604085016101cb565b9301516001600160a01b039091166080527f07c4283b2fa75d5910795d3d364c3b7ea0eea1ab8202d239d76a40c863f9aced6101f78190555f8052600160208190527fa6eef7e35abe7026729641147f7915573c7e97b47efa546f5f6e3230263bcb4982905593905b60148510156100e7576100cb816001926101df565b9485816101f70155805f52816020528560405f205501936100b6565b6100f28491806101df565b600255600161020b558215610181576001600160a01b0390811660c0521660a05260e052604051610b25908161026182396080518181816101a501526102ba015260a05181818161011801528181610471015281816106b10152610884015260c0518181816106260152610953015260e05181818161043c0152818161056a015281816107e701526108b00152f35b637833d9e360e11b5f5260045ffd5b5f80fd5b601f909101601f19168101906001600160401b038211908210176101b757604052565b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b038216820361019057565b60805160405163f47d33b560e01b81526004810192909252602482019290925290602090829060449082906001600160a01b03165afa908115610255575f91610226575090565b90506020813d60201161024d575b8161024160209383610194565b81010312610190575190565b3d9150610234565b6040513d5f823e3d90fdfe6080806040526004361015610012575f80fd5b5f3560e01c9081630be4f422146109825750806317cc915c14610201578063230ddd901461080a5780632b7ac3f31461093e578063414a37ba146109045780635445b007146108e257806360246c88146108625780636d9833e31461083a578063839df9451461080a5780638bca6d16146107d057806390eeb02b146107b2578063a151918a1461050d578063b214faa51461027a578063c2b40ae41461024d578063cd87a3b414610231578063e5285dcc14610201578063e8295588146101d4578063ed33639f14610190578063f165053614610175578063f178e47c1461014b5763fc0c546a14610103575f80fd5b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5f80fd5b34610147576020366003190112610147576004355f526001602052602060405f2054604051908152f35b34610147575f36600319011261014757602060405160148152f35b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b34610147576020366003190112610147576004356014811015610147576020906101f70154604051908152f35b34610147576020366003190112610147576004355f5261020c602052602060ff60405f2054166040519015158152f35b34610147575f3660031901126101475760206040516101f48152f35b34610147576020366003190112610147576004356101f48110156101475760209060020154604051908152f35b3461014757602036600319011261014757600435610296610a33565b805f5261020d60205260ff60405f2054166104fe575f54621000008110156104ef577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031691905f9080835b601484101561039e576001831661038b5780846101f7015490855f52600160205260405f20555b6040519163f47d33b560e01b835260048301526024820152602081604481895afa8015610380575f9061034e575b6001915092811c930192916102e9565b506020813d8211610378575b8161036760209383610a11565b81010312610147576001905161033e565b3d915061035a565b6040513d5f823e3d90fd5b835f52600160205260405f205490610310565b84906101f654600181018091116104c7576101f490066101f48110156104db578181600201556101f655600183018084116104c7577fd50e83984b64a106ac2ee6314d689ec4d2a656d5ece6d94c585796944b52240c6020859385935f55604051908152a3805f5261020d60205260405f20600160ff198254161790556104956040516323b872dd60e01b60208201523360248201523060448201527f000000000000000000000000000000000000000000000000000000000000000060648201526064815261046f608482610a11565b7f0000000000000000000000000000000000000000000000000000000000000000610a97565b7fe1f1096fd8bc7d572fb7ad7e4102736b6615500975c0252ea91ef1b765c498976020604051428152a3600161020b55005b634e487b7160e01b5f52601160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b6377ae67b360e11b5f5260045ffd5b63145718a760e01b5f5260045ffd5b34610147576101a03660031901126101475736610104116101475761014435610124356001600160a01b0382166101043581840361014757610164356001600160a01b03811694858203610147576101843590610568610a33565b7f0000000000000000000000000000000000000000000000000000000000000000938483116107a35761059a816109b0565b1561079457865f5261020c60205260ff60405f205416610785576040519060c0820182811067ffffffffffffffff8211176107715760405281528660208201528560408201528760608201528260808201528460a08201526040519063139650cb60e31b82526101006004808401375f61010483015b6006821061075b5750602091508290506101c4817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa908115610380575f91610720575b501561071157855f5261020c60205260405f20600160ff198254161790558184039384116104c757816020936106d77fe9e508bad6d4c3227e881ca19068f099da81b5164dd6d62b2eaf1e8bc6c34931967f00000000000000000000000000000000000000000000000000000000000000009485610a55565b81151580610708575b6106f7575b505050604051908152a4600161020b55005b61070092610a55565b8681816106e5565b508815156106e0565b6309bde33960e01b5f5260045ffd5b90506020813d602011610753575b8161073b60209383610a11565b8101031261014757518015158103610147578861065e565b3d915061072e565b6020806001928551815201930191019091610610565b634e487b7160e01b5f52604160045260245ffd5b63b115d85760e01b5f5260045ffd5b639dd854d360e01b5f5260045ffd5b6358d620b360e01b5f5260045ffd5b34610147575f3660031901126101475760206101f654604051908152f35b34610147575f3660031901126101475760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b34610147576020366003190112610147576004355f5261020d602052602060ff60405f2054166040519015158152f35b346101475760203660031901126101475760206108586004356109b0565b6040519015158152f35b34610147575f3660031901126101475760805f5461087e61099b565b604080517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031681527f00000000000000000000000000000000000000000000000000000000000000006020820152908101929092526060820152f35b34610147575f3660031901126101475760206108fc61099b565b604051908152f35b34610147575f3660031901126101475760206040517f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f00000018152f35b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b34610147575f366003190112610147576020905f548152f35b6101f6546101f48110156104db576002015490565b908115610a0c576101f654918260015b156109fe575b5f936101f48110156104db57806002015483146109f557806109ec57506101f3936109c0565b5f1901936109c0565b50600193505050565b8084036109c657505f925050565b5f9150565b90601f8019910116810190811067ffffffffffffffff82111761077157604052565b600261020b5414610a4657600261020b55565b633ee5aeb560e01b5f5260045ffd5b60405163a9059cbb60e01b60208201526001600160a01b039092166024830152604480830193909352918152610a9591610a90606483610a11565b610a97565b565b905f602091828151910182855af115610380575f513d610ae657506001600160a01b0381163b155b610ac65750565b635274afe760e01b5f9081526001600160a01b0391909116600452602490fd5b60011415610abf56fea2646970667358221220c2a08855850470935421099dc12a89f48a93f89b96ba3308dcb3910999aea43964736f6c634300081e0033",
  "deployedBytecode": "0x6080806040526004361015610012575f80fd5b5f3560e01c9081630be4f422146109825750806317cc915c14610201578063230ddd901461080a5780632b7ac3f31461093e578063414a37ba146109045780635445b007146108e257806360246c88146108625780636d9833e31461083a578063839df9451461080a5780638bca6d16146107d057806390eeb02b146107b2578063a151918a1461050d578063b214faa51461027a578063c2b40ae41461024d578063cd87a3b414610231578063e5285dcc14610201578063e8295588146101d4578063ed33639f14610190578063f165053614610175578063f178e47c1461014b5763fc0c546a14610103575f80fd5b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5f80fd5b34610147576020366003190112610147576004355f526001602052602060405f2054604051908152f35b34610147575f36600319011261014757602060405160148152f35b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b34610147576020366003190112610147576004356014811015610147576020906101f70154604051908152f35b34610147576020366003190112610147576004355f5261020c602052602060ff60405f2054166040519015158152f35b34610147575f3660031901126101475760206040516101f48152f35b34610147576020366003190112610147576004356101f48110156101475760209060020154604051908152f35b3461014757602036600319011261014757600435610296610a33565b805f5261020d60205260ff60405f2054166104fe575f54621000008110156104ef577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031691905f9080835b601484101561039e576001831661038b5780846101f7015490855f52600160205260405f20555b6040519163f47d33b560e01b835260048301526024820152602081604481895afa8015610380575f9061034e575b6001915092811c930192916102e9565b506020813d8211610378575b8161036760209383610a11565b81010312610147576001905161033e565b3d915061035a565b6040513d5f823e3d90fd5b835f52600160205260405f205490610310565b84906101f654600181018091116104c7576101f490066101f48110156104db578181600201556101f655600183018084116104c7577fd50e83984b64a106ac2ee6314d689ec4d2a656d5ece6d94c585796944b52240c6020859385935f55604051908152a3805f5261020d60205260405f20600160ff198254161790556104956040516323b872dd60e01b60208201523360248201523060448201527f000000000000000000000000000000000000000000000000000000000000000060648201526064815261046f608482610a11565b7f0000000000000000000000000000000000000000000000000000000000000000610a97565b7fe1f1096fd8bc7d572fb7ad7e4102736b6615500975c0252ea91ef1b765c498976020604051428152a3600161020b55005b634e487b7160e01b5f52601160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b6377ae67b360e11b5f5260045ffd5b63145718a760e01b5f5260045ffd5b34610147576101a03660031901126101475736610104116101475761014435610124356001600160a01b0382166101043581840361014757610164356001600160a01b03811694858203610147576101843590610568610a33565b7f0000000000000000000000000000000000000000000000000000000000000000938483116107a35761059a816109b0565b1561079457865f5261020c60205260ff60405f205416610785576040519060c0820182811067ffffffffffffffff8211176107715760405281528660208201528560408201528760608201528260808201528460a08201526040519063139650cb60e31b82526101006004808401375f61010483015b6006821061075b5750602091508290506101c4817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa908115610380575f91610720575b501561071157855f5261020c60205260405f20600160ff198254161790558184039384116104c757816020936106d77fe9e508bad6d4c3227e881ca19068f099da81b5164dd6d62b2eaf1e8bc6c34931967f00000000000000000000000000000000000000000000000000000000000000009485610a55565b81151580610708575b6106f7575b505050604051908152a4600161020b55005b61070092610a55565b8681816106e5565b508815156106e0565b6309bde33960e01b5f5260045ffd5b90506020813d602011610753575b8161073b60209383610a11565b8101031261014757518015158103610147578861065e565b3d915061072e565b6020806001928551815201930191019091610610565b634e487b7160e01b5f52604160045260245ffd5b63b115d85760e01b5f5260045ffd5b639dd854d360e01b5f5260045ffd5b6358d620b360e01b5f5260045ffd5b34610147575f3660031901126101475760206101f654604051908152f35b34610147575f3660031901126101475760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b34610147576020366003190112610147576004355f5261020d602052602060ff60405f2054166040519015158152f35b346101475760203660031901126101475760206108586004356109b0565b6040519015158152f35b34610147575f3660031901126101475760805f5461087e61099b565b604080517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031681527f00000000000000000000000000000000000000000000000000000000000000006020820152908101929092526060820152f35b34610147575f3660031901126101475760206108fc61099b565b604051908152f35b34610147575f3660031901126101475760206040517f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f00000018152f35b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b34610147575f366003190112610147576020905f548152f35b6101f6546101f48110156104db576002015490565b908115610a0c576101f654918260015b156109fe575b5f936101f48110156104db57806002015483146109f557806109ec57506101f3936109c0565b5f1901936109c0565b50600193505050565b8084036109c657505f925050565b5f9150565b90601f8019910116810190811067ffffffffffffffff82111761077157604052565b600261020b5414610a4657600261020b55565b633ee5aeb560e01b5f5260045ffd5b60405163a9059cbb60e01b60208201526001600160a01b039092166024830152604480830193909352918152610a9591610a90606483610a11565b610a97565b565b905f602091828151910182855af115610380575f513d610ae657506001600160a01b0381163b155b610ac65750565b635274afe760e01b5f9081526001600160a01b0391909116600452602490fd5b60011415610abf56fea2646970667358221220c2a08855850470935421099dc12a89f48a93f89b96ba3308dcb3910999aea43964736f6c634300081e0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
