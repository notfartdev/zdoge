{
  "_format": "hh-sol-artifact-1",
  "contractName": "MixerPool",
  "sourceName": "src/MixerPool.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_verifier",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_hasher",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_denomination",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "CommitmentAlreadyExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidDenomination",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidFee",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidMerkleRoot",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidProof",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidRoot",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "MerkleTreeFull",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NullifierAlreadySpent",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TransferFailed",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "leafIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "Deposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "leaf",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "leafIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "newRoot",
          "type": "bytes32"
        }
      ],
      "name": "LeafInserted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "nullifierHash",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "relayer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "fee",
          "type": "uint256"
        }
      ],
      "name": "Withdrawal",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "FIELD_SIZE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ROOT_HISTORY_SIZE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "TREE_DEPTH",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "commitments",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "currentRootIndex",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "denomination",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "filledSubtrees",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLatestRoot",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getPoolInfo",
      "outputs": [
        {
          "internalType": "address",
          "name": "_token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_denomination",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_depositsCount",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "_root",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "hasher",
      "outputs": [
        {
          "internalType": "contract IHasher",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        }
      ],
      "name": "isDeposited",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "root",
          "type": "bytes32"
        }
      ],
      "name": "isKnownRoot",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "nullifierHash",
          "type": "bytes32"
        }
      ],
      "name": "isSpent",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextLeafIndex",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "nullifierHashes",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "roots",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "token",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "verifier",
      "outputs": [
        {
          "internalType": "contract IVerifierLegacy",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[8]",
          "name": "proof",
          "type": "uint256[8]"
        },
        {
          "internalType": "bytes32",
          "name": "root",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "nullifierHash",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "relayer",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "fee",
          "type": "uint256"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "zeros",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x610100806040523461018d57608081610d6a80380380916100208285610191565b83398101031261018d57610033816101c8565b61003f602083016101c8565b606061004d604085016101c8565b9301516001600160a01b039091166080527f07c4283b2fa75d5910795d3d364c3b7ea0eea1ab8202d239d76a40c863f9aced60218190555f8052600160208190527fa6eef7e35abe7026729641147f7915573c7e97b47efa546f5f6e3230263bcb4982905593905b60148510156100e5576100ca816001926101dc565b94858160210155805f52816020528560405f205501936100b5565b6100f08491806101dc565b6002556001603555821561017e576001600160a01b0390811660c0521660a05260e052604051610b0c908161025e82396080518181816101a501526102b5015260a05181818161011801528181610466015281816106a30152610872015260c0518181816106190152610941015260e0518181816104310152818161055e015281816107d6015261089e0152f35b637833d9e360e11b5f5260045ffd5b5f80fd5b601f909101601f19168101906001600160401b038211908210176101b457604052565b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b038216820361018d57565b60805160405163f47d33b560e01b81526004810192909252602482019290925290602090829060449082906001600160a01b03165afa908115610252575f91610223575090565b90506020813d60201161024a575b8161023e60209383610191565b8101031261018d575190565b3d9150610231565b6040513d5f823e3d90fdfe6080806040526004361015610012575f80fd5b5f3560e01c9081630be4f422146109705750806317cc915c14610200578063230ddd90146107f95780632b7ac3f31461092c578063414a37ba146108f25780635445b007146108d057806360246c88146108505780636d9833e314610828578063839df945146107f95780638bca6d16146107bf57806390eeb02b146107a3578063a151918a14610501578063b214faa514610276578063c2b40ae41461024a578063cd87a3b41461022f578063e5285dcc14610200578063e8295588146101d4578063ed33639f14610190578063f165053614610175578063f178e47c1461014b5763fc0c546a14610103575f80fd5b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5f80fd5b34610147576020366003190112610147576004355f526001602052602060405f2054604051908152f35b34610147575f36600319011261014757602060405160148152f35b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346101475760203660031901126101475760043560148110156101475760209060210154604051908152f35b34610147576020366003190112610147576004355f526036602052602060ff60405f2054166040519015158152f35b34610147575f366003190112610147576020604051601e8152f35b3461014757602036600319011261014757600435601e8110156101475760209060020154604051908152f35b3461014757602036600319011261014757600435610292610a1c565b805f52603760205260ff60405f2054166104f2575f54621000008110156104e3577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031691905f9080835b601484101561039857600183166103855780846021015490855f52600160205260405f20555b6040519163f47d33b560e01b835260048301526024820152602081604481895afa801561037a575f90610348575b6001915092811c930192916102e4565b506020813d8211610372575b81610361602093836109fa565b810103126101475760019051610338565b3d9150610354565b6040513d5f823e3d90fd5b835f52600160205260405f20549061030a565b8490602054600181018091116104bb57601e9006601e8110156104cf57818160020155602055600183018084116104bb577fd50e83984b64a106ac2ee6314d689ec4d2a656d5ece6d94c585796944b52240c6020859385935f55604051908152a3805f52603760205260405f20600160ff1982541617905561048a6040516323b872dd60e01b60208201523360248201523060448201527f00000000000000000000000000000000000000000000000000000000000000006064820152606481526104646084826109fa565b7f0000000000000000000000000000000000000000000000000000000000000000610a7e565b7fe1f1096fd8bc7d572fb7ad7e4102736b6615500975c0252ea91ef1b765c498976020604051428152a36001603555005b634e487b7160e01b5f52601160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b6377ae67b360e11b5f5260045ffd5b63145718a760e01b5f5260045ffd5b34610147576101a03660031901126101475736610104116101475761014435610124356001600160a01b0382166101043581840361014757610164356001600160a01b0381169485820361014757610184359061055c610a1c565b7f0000000000000000000000000000000000000000000000000000000000000000938483116107945761058e8161099c565b1561078557865f52603660205260ff60405f205416610776576040519060c0820182811067ffffffffffffffff8211176107625760405281528660208201528560408201528760608201528260808201528460a08201526040519063139650cb60e31b82526101006004808401375f61010483015b6006821061074c5750602091508290506101c4817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa90811561037a575f91610711575b501561070257855f52603660205260405f20600160ff198254161790558184039384116104bb57816020936106c97fe9e508bad6d4c3227e881ca19068f099da81b5164dd6d62b2eaf1e8bc6c34931967f00000000000000000000000000000000000000000000000000000000000000009485610a3c565b811515806106f9575b6106e8575b505050604051908152a46001603555005b6106f192610a3c565b8681816106d7565b508815156106d2565b6309bde33960e01b5f5260045ffd5b90506020813d602011610744575b8161072c602093836109fa565b81010312610147575180151581036101475788610651565b3d915061071f565b6020806001928551815201930191019091610603565b634e487b7160e01b5f52604160045260245ffd5b63b115d85760e01b5f5260045ffd5b639dd854d360e01b5f5260045ffd5b6358d620b360e01b5f5260045ffd5b34610147575f3660031901126101475760208054604051908152f35b34610147575f3660031901126101475760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b34610147576020366003190112610147576004355f526037602052602060ff60405f2054166040519015158152f35b3461014757602036600319011261014757602061084660043561099c565b6040519015158152f35b34610147575f3660031901126101475760805f5461086c610989565b604080517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031681527f00000000000000000000000000000000000000000000000000000000000000006020820152908101929092526060820152f35b34610147575f3660031901126101475760206108ea610989565b604051908152f35b34610147575f3660031901126101475760206040517f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f00000018152f35b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b34610147575f366003190112610147576020905f548152f35b602054601e8110156104cf576002015490565b9081156109f557602054918260015b156109e7575b5f93601e8110156104cf57806002015483146109de57806109d55750601d936109ab565b5f1901936109ab565b50600193505050565b8084036109b157505f925050565b5f9150565b90601f8019910116810190811067ffffffffffffffff82111761076257604052565b600260355414610a2d576002603555565b633ee5aeb560e01b5f5260045ffd5b60405163a9059cbb60e01b60208201526001600160a01b039092166024830152604480830193909352918152610a7c91610a776064836109fa565b610a7e565b565b905f602091828151910182855af11561037a575f513d610acd57506001600160a01b0381163b155b610aad5750565b635274afe760e01b5f9081526001600160a01b0391909116600452602490fd5b60011415610aa656fea26469706673582212207bcb848bd380d12e7c29a3d05dfe2a9130b919461f0d2ae225dea15dfa1a6ade64736f6c634300081e0033",
  "deployedBytecode": "0x6080806040526004361015610012575f80fd5b5f3560e01c9081630be4f422146109705750806317cc915c14610200578063230ddd90146107f95780632b7ac3f31461092c578063414a37ba146108f25780635445b007146108d057806360246c88146108505780636d9833e314610828578063839df945146107f95780638bca6d16146107bf57806390eeb02b146107a3578063a151918a14610501578063b214faa514610276578063c2b40ae41461024a578063cd87a3b41461022f578063e5285dcc14610200578063e8295588146101d4578063ed33639f14610190578063f165053614610175578063f178e47c1461014b5763fc0c546a14610103575f80fd5b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5f80fd5b34610147576020366003190112610147576004355f526001602052602060405f2054604051908152f35b34610147575f36600319011261014757602060405160148152f35b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346101475760203660031901126101475760043560148110156101475760209060210154604051908152f35b34610147576020366003190112610147576004355f526036602052602060ff60405f2054166040519015158152f35b34610147575f366003190112610147576020604051601e8152f35b3461014757602036600319011261014757600435601e8110156101475760209060020154604051908152f35b3461014757602036600319011261014757600435610292610a1c565b805f52603760205260ff60405f2054166104f2575f54621000008110156104e3577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031691905f9080835b601484101561039857600183166103855780846021015490855f52600160205260405f20555b6040519163f47d33b560e01b835260048301526024820152602081604481895afa801561037a575f90610348575b6001915092811c930192916102e4565b506020813d8211610372575b81610361602093836109fa565b810103126101475760019051610338565b3d9150610354565b6040513d5f823e3d90fd5b835f52600160205260405f20549061030a565b8490602054600181018091116104bb57601e9006601e8110156104cf57818160020155602055600183018084116104bb577fd50e83984b64a106ac2ee6314d689ec4d2a656d5ece6d94c585796944b52240c6020859385935f55604051908152a3805f52603760205260405f20600160ff1982541617905561048a6040516323b872dd60e01b60208201523360248201523060448201527f00000000000000000000000000000000000000000000000000000000000000006064820152606481526104646084826109fa565b7f0000000000000000000000000000000000000000000000000000000000000000610a7e565b7fe1f1096fd8bc7d572fb7ad7e4102736b6615500975c0252ea91ef1b765c498976020604051428152a36001603555005b634e487b7160e01b5f52601160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b6377ae67b360e11b5f5260045ffd5b63145718a760e01b5f5260045ffd5b34610147576101a03660031901126101475736610104116101475761014435610124356001600160a01b0382166101043581840361014757610164356001600160a01b0381169485820361014757610184359061055c610a1c565b7f0000000000000000000000000000000000000000000000000000000000000000938483116107945761058e8161099c565b1561078557865f52603660205260ff60405f205416610776576040519060c0820182811067ffffffffffffffff8211176107625760405281528660208201528560408201528760608201528260808201528460a08201526040519063139650cb60e31b82526101006004808401375f61010483015b6006821061074c5750602091508290506101c4817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa90811561037a575f91610711575b501561070257855f52603660205260405f20600160ff198254161790558184039384116104bb57816020936106c97fe9e508bad6d4c3227e881ca19068f099da81b5164dd6d62b2eaf1e8bc6c34931967f00000000000000000000000000000000000000000000000000000000000000009485610a3c565b811515806106f9575b6106e8575b505050604051908152a46001603555005b6106f192610a3c565b8681816106d7565b508815156106d2565b6309bde33960e01b5f5260045ffd5b90506020813d602011610744575b8161072c602093836109fa565b81010312610147575180151581036101475788610651565b3d915061071f565b6020806001928551815201930191019091610603565b634e487b7160e01b5f52604160045260245ffd5b63b115d85760e01b5f5260045ffd5b639dd854d360e01b5f5260045ffd5b6358d620b360e01b5f5260045ffd5b34610147575f3660031901126101475760208054604051908152f35b34610147575f3660031901126101475760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b34610147576020366003190112610147576004355f526037602052602060ff60405f2054166040519015158152f35b3461014757602036600319011261014757602061084660043561099c565b6040519015158152f35b34610147575f3660031901126101475760805f5461086c610989565b604080517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031681527f00000000000000000000000000000000000000000000000000000000000000006020820152908101929092526060820152f35b34610147575f3660031901126101475760206108ea610989565b604051908152f35b34610147575f3660031901126101475760206040517f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f00000018152f35b34610147575f366003190112610147576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b34610147575f366003190112610147576020905f548152f35b602054601e8110156104cf576002015490565b9081156109f557602054918260015b156109e7575b5f93601e8110156104cf57806002015483146109de57806109d55750601d936109ab565b5f1901936109ab565b50600193505050565b8084036109b157505f925050565b5f9150565b90601f8019910116810190811067ffffffffffffffff82111761076257604052565b600260355414610a2d576002603555565b633ee5aeb560e01b5f5260045ffd5b60405163a9059cbb60e01b60208201526001600160a01b039092166024830152604480830193909352918152610a7c91610a776064836109fa565b610a7e565b565b905f602091828151910182855af11561037a575f513d610acd57506001600160a01b0381163b155b610aad5750565b635274afe760e01b5f9081526001600160a01b0391909116600452602490fd5b60011415610aa656fea26469706673582212207bcb848bd380d12e7c29a3d05dfe2a9130b919461f0d2ae225dea15dfa1a6ade64736f6c634300081e0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
